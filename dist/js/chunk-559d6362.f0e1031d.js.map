{"version":3,"sources":["webpack:///./src/views/Blog.vue?8df1","webpack:///./src/views/Blog.vue?4e9e","webpack:///src/views/Blog.vue","webpack:///./src/views/Blog.vue?deed","webpack:///./src/views/Blog.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","directives","name","rawName","modifiers","on","resetData","_v","_e","handleOk","ref","$event","stopPropagation","preventDefault","handleSubmit","titleState","model","value","callback","$$v","title","expression","content","options","processEditOperation","coverImageState","coverImageUrl","keywords","blogsLoading","blogEntries","length","staticStyle","_l","blog","ind","key","_id","toString","scopedSlots","_u","fn","deleteLoading","onDeleteOk","_s","Date","when","toLocaleString","keyword","proxy","domProps","numberOfPages","linkGen","staticRenderFns","data","placeholder","buttonLabels","toolbar","buttons","extensions","table","MediumEditorTable","newBlogLoading","coverImageBase64","components","watch","$route","store","computed","loggedIn","Math","ceil","created","methods","pageNum","toBase64","Promise","reader","readAsDataURL","file","onload","onerror","e","checkFormValidity","valid","operation","api","origElements","innerHTML","onDelete","component"],"mappings":"kHAAA,yBAA2c,EAAG,G,gECA9c,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,SAAS,CAACF,EAAG,cAAc,CAACG,YAAY,iBAAiB,CAACH,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACG,YAAY,iCAAiC,CAACH,EAAG,iBAAiB,CAACE,MAAM,CAAC,SAAW,KAAK,CAAEN,EAAY,SAAEI,EAAG,WAAW,CAACI,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,uBAAuBC,UAAU,CAAC,cAAa,KAAQL,MAAM,CAAC,QAAU,WAAWM,GAAG,CAAC,MAAQZ,EAAIa,YAAY,CAACb,EAAIc,GAAG,cAAcd,EAAIe,KAAMf,EAAkB,eAAEI,EAAG,YAAY,CAACG,YAAY,OAAOD,MAAM,CAAC,QAAU,aAAaN,EAAIe,KAAKX,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,aAAa,aAAa,UAAU,iBAAiB,SAAS,WAAW,SAAS,eAAe,SAAS,MAAQ,gBAAgB,mBAAmB,IAAIM,GAAG,CAAC,GAAKZ,EAAIgB,WAAW,CAACZ,EAAG,OAAO,CAACa,IAAI,OAAOL,GAAG,CAAC,OAAS,SAASM,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBpB,EAAIqB,aAAaH,MAAW,CAACd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIsB,WAAW,MAAQ,UAAU,YAAY,aAAa,mBAAmB,8BAA8B,CAAClB,EAAG,eAAe,CAACE,MAAM,CAAC,GAAK,aAAa,MAAQN,EAAIsB,WAAW,SAAW,IAAIC,MAAM,CAACC,MAAOxB,EAAS,MAAEyB,SAAS,SAAUC,GAAM1B,EAAI2B,MAAMD,GAAKE,WAAW,YAAY,GAAGxB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,YAAY,YAAY,kBAAkB,CAACF,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAON,EAAI6B,QAAQ,QAAU7B,EAAI8B,QAAQ,aAAa,OAAOlB,GAAG,CAAC,KAAOZ,EAAI+B,yBAAyB,GAAG3B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIgC,gBAAgB,MAAQ,gBAAgB,YAAY,oBAAoB,mBAAmB,kCAAkC,CAAC5B,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,oBAAoB,OAAS,UAAU,cAAc,SAAS,YAAc,0BAA0B,mBAAmB,eAAe,MAAQN,EAAIgC,gBAAgB,SAAW,IAAIT,MAAM,CAACC,MAAOxB,EAAiB,cAAEyB,SAAS,SAAUC,GAAM1B,EAAIiC,cAAcP,GAAKE,WAAW,oBAAoB,GAAGxB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,aAAa,YAAY,iBAAiB,mBAAmB,mCAAmC,CAACF,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,iBAAiB,YAAY,GAAG,cAAc,UAAU,mBAAmB,GAAG,UAAY,IAAI,qBAAqB,sBAAsB,YAAc,4CAA4CiB,MAAM,CAACC,MAAOxB,EAAY,SAAEyB,SAAS,SAAUC,GAAM1B,EAAIkC,SAASR,GAAKE,WAAW,eAAe,IAAI,MAAM,IAAI,IAAI,GAAGxB,EAAG,QAAQ,CAACG,YAAY,QAAQ,CAAEP,EAAgB,aAAEI,EAAG,QAAQ,CAACG,YAAY,gEAAgE,CAACH,EAAG,YAAY,CAACE,MAAM,CAAC,QAAU,cAAc,GAAGN,EAAIe,KAAOf,EAAImC,aAAyyEnC,EAAIe,KAA/xEX,EAAG,QAAQ,CAACG,YAAY,gEAAgE,CAA4B,GAA1BP,EAAIoC,YAAYC,OAAajC,EAAG,IAAI,CAACJ,EAAIc,GAAG,2BAA2Bd,EAAIe,KAAgC,GAA1Bf,EAAIoC,YAAYC,OAAajC,EAAG,MAAM,CAACkC,YAAY,CAAC,MAAQ,OAAO,QAAU,OAAO,kBAAkB,OAAO,wBAAwB,cAActC,EAAIuC,GAAIvC,EAAe,aAAE,SAASwC,EAAKC,GAAK,OAAOrC,EAAG,SAAS,CAACsC,IAAIF,EAAKG,IAAIpC,YAAY,iBAAiBD,MAAM,CAAC,aAAa,SAAS,aAAa,SAAS,GAAK,OAASkC,EAAKG,IAAIC,WAAW,MAAQJ,EAAKb,MAAM,UAAUa,EAAKP,cAAc,UAAU,GAAG,IAAM,WAAWY,YAAY7C,EAAI8C,GAAG,CAAC,CAACJ,IAAI,SAASK,GAAG,WAAW,MAAO,CAAC3C,EAAG,iBAAiB,CAACG,YAAY,oBAAoB,CAAEP,EAAY,SAAEI,EAAG,WAAW,CAACG,YAAY,OAAO+B,YAAY,CAAC,YAAY,SAAShC,MAAM,CAAC,GAAK,cAAckC,EAAKG,IAAI,QAAU,YAAY,CAAC3C,EAAIc,GAAG,UAAUd,EAAIe,KAAMf,EAAY,SAAEI,EAAG,WAAW,CAACI,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYc,MAAO,cAAciB,EAAKb,WAAW,sBAAsBrB,YAAY,OAAO+B,YAAY,CAAC,YAAY,SAAShC,MAAM,CAAC,QAAU,WAAW,CAAEN,EAAiB,cAAEI,EAAG,YAAY,CAACE,MAAM,CAAC,QAAU,UAAU,MAAQ,MAAMN,EAAIe,KAAOf,EAAIgD,cAA6ChD,EAAIe,KAAlCX,EAAG,OAAO,CAACJ,EAAIc,GAAG,aAAsB,GAAGd,EAAIe,KAAKX,EAAG,UAAU,CAACE,MAAM,CAAC,GAAK,cAAcmC,EAAI,MAAQ,SAAS,WAAW,SAAS,eAAe,SAAS,aAAa,SAAS,iBAAiB,WAAW7B,GAAG,CAAC,GAAK,SAASM,GAAQ,OAAOlB,EAAIiD,WAAWT,EAAKG,QAAQ,CAACvC,EAAG,IAAI,CAACG,YAAY,QAAQ,CAACP,EAAIc,GAAG,gCAAgC,GAAGV,EAAG,cAAc,CAACJ,EAAIc,GAAG,YAAYd,EAAIkD,GAAG,IAAIC,KAAKX,EAAKY,MAAMC,eAAe,aAAajD,EAAG,cAAc,CAACJ,EAAIc,GAAG,eAAeV,EAAG,MAAM,CAACG,YAAY,uCAAuCP,EAAIuC,GAAIC,EAAa,UAAE,SAASc,GAAS,OAAOlD,EAAG,OAAO,CAACsC,IAAIY,EAAQ/C,YAAY,WAAW,CAACP,EAAIc,GAAGd,EAAIkD,GAAGI,SAAc,KAAKC,OAAM,IAAO,MAAK,IAAO,CAACnD,EAAG,MAAM,CAACkC,YAAY,CAAC,SAAW,SAAS,aAAa,UAAU,CAAClC,EAAG,OAAO,CAACoD,SAAS,CAAC,UAAYxD,EAAIkD,GAAGV,EAAKX,cAAczB,EAAG,MAAM,CAACG,YAAY,gEAAgE,CAACH,EAAG,WAAW,CAACG,YAAY,OAAOD,MAAM,CAAC,GAAK,SAASkC,EAAKG,IAAI,QAAU,YAAY,CAAC3C,EAAIc,GAAG,gBAAgB,QAAO,GAAGd,EAAIe,KAAKX,EAAG,mBAAmB,CAACE,MAAM,CAAC,kBAAkBN,EAAIyD,cAAc,aAAa,GAAG,WAAWzD,EAAI0D,YAAY,IAAa,IAAI,IAAI,IACr4JC,EAAkB,G,6ECuKtB,GACEC,KAAM,WACJ,MAAO,CACL1B,SAAU,GACVJ,QAAS,CACP+B,aAAa,EACbC,aAAc,cACdC,QAAS,CACPC,QAAS,CACnB,KACA,KACA,KACA,SACA,OACA,SACA,gBACA,cACA,UAGQC,WAAY,CACVC,MAAO,IAAIC,oBAGftC,QAAS,GACTF,MAAO,GACPM,cAAe,KACfe,eAAe,EACfb,cAAc,EACdiC,gBAAgB,EAChBC,iBAAkB,GAClBjC,YAAa,KAGjBkC,WAAY,CACV,gBAAiB,EAArB,GAEEC,MAAO,CACLC,OADJ,SACA,KACMvE,KAAKmC,YAAcqC,EAAzB,6BACA,oCACA,yCAIEC,SAAU,CACRpD,WADJ,WAEM,OAAOrB,KAAK0B,MAAMU,OAAS,GAE7BL,gBAJJ,WAKM,OAA6B,MAAtB/B,KAAKgC,eAEd0C,SAPJ,WAQM,OAAOF,EAAb,qBAEIhB,cAVJ,WAWM,OAAOmB,KAAKC,KAAKJ,EAAvB,mCACA,6CACA,IAGEK,QA7DF,WA8DI7E,KAAKkC,cAAe,EACpBsC,EAAJ,kCAEEM,QAAS,CACPrB,QADJ,SACA,GACM,OAAmB,IAAZsB,EAAgB,IAAM,SAAnC,WAEIC,SAJJ,SAIA,GACM,OAAO,IAAIC,SAAQ,SAAzB,KACQ,IAAR,iBACQC,EAAOC,cAAcC,GACrBF,EAAOG,OAAS,WAAxB,oBACQH,EAAOI,QAAU,SAAzB,oBAGIvE,SAZJ,SAYA,GACMwE,EAAEpE,iBACFnB,KAAKoB,gBAEPoE,kBAhBJ,WAiBM,IAAN,kCACM,OAAOC,GAET,aApBJ,WAoBA,2JAEA,sBAFA,wDAKA,oBALA,kBAOA,4BAPA,OAOA,mBAPA,iEASA,4DACA,oBAVA,2BAcA,kCAEA,wBACA,iCAjBA,4DAoBI3D,qBAxCJ,SAwCA,GACM9B,KAAK4B,QAAU8D,EAAUC,IAAIC,aAAaC,WAE5C7C,WA3CJ,SA2CA,GACMhD,KAAK8F,SAASpD,IAEhBoD,SA9CJ,SA8CA,GACM9F,KAAK+C,eAAgB,EACrByB,EAAN,6CAEI5D,UAlDJ,WAmDMZ,KAAK4B,QAAU,GACf5B,KAAKgC,cAAgB,KACrBhC,KAAKiC,SAAW,GAChBjC,KAAK0B,MAAQ,MC/R2T,I,wBCQ1UqE,EAAY,eACd,EACAjG,EACA4D,GACA,EACA,KACA,KACA,MAIa,aAAAqC,E","file":"js/chunk-559d6362.f0e1031d.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blog.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blog.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"blog\"}},[_c('b-container',{staticClass:\"blogContainer\"},[_c('b-row',[_c('b-col',{staticClass:\"d-flex justify-content-center\"},[_c('b-button-group',{attrs:{\"vertical\":\"\"}},[(_vm.loggedIn)?_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.blog-modal\",modifiers:{\"blog-modal\":true}}],attrs:{\"variant\":\"success\"},on:{\"click\":_vm.resetData}},[_vm._v(\"New blog\")]):_vm._e(),(_vm.newBlogLoading)?_c('b-spinner',{staticClass:\"mt-2\",attrs:{\"variant\":\"warning\"}}):_vm._e(),_c('b-modal',{attrs:{\"size\":\"xl\",\"id\":\"blog-modal\",\"ok-variant\":\"success\",\"cancel-variant\":\"danger\",\"ok-title\":\"Submit\",\"cancel-title\":\"Cancel\",\"title\":\"Add new blog!\",\"no-enforce-focus\":\"\"},on:{\"ok\":_vm.handleOk}},[_c('form',{ref:\"form\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('b-form-group',{attrs:{\"state\":_vm.titleState,\"label\":\"Title: \",\"label-for\":\"name-input\",\"invalid-feedback\":\"You need to enter a title\"}},[_c('b-form-input',{attrs:{\"id\":\"name-input\",\"state\":_vm.titleState,\"required\":\"\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Content: \",\"label-for\":\"content-input\"}},[_c('medium-editor',{attrs:{\"text\":_vm.content,\"options\":_vm.options,\"custom-tag\":\"div\"},on:{\"edit\":_vm.processEditOperation}})],1),_c('b-form-group',{attrs:{\"state\":_vm.coverImageState,\"label\":\"Cover Image: \",\"label-for\":\"cover-image-input\",\"invalid-feedback\":\"You need to add a cover image\"}},[_c('b-form-file',{attrs:{\"id\":\"cover-image-input\",\"accept\":\"image/*\",\"browse-text\":\"Select\",\"placeholder\":\"Select or drag an image\",\"drop-placeholder\":\"You can drop\",\"state\":_vm.coverImageState,\"required\":\"\"},model:{value:(_vm.coverImageUrl),callback:function ($$v) {_vm.coverImageUrl=$$v},expression:\"coverImageUrl\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Keywords: \",\"label-for\":\"keywords-input\",\"invalid-feedback\":\"Enter keywords comma seperated\"}},[_c('b-form-tags',{attrs:{\"id\":\"keywords-input\",\"tag-pills\":\"\",\"tag-variant\":\"primary\",\"remove-on-delete\":\"\",\"separator\":\",\",\"duplicate-tag-text\":\"Same keyword exists\",\"placeholder\":\"Add keywords via pressing enter or comma\"},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}})],1)],1)])],1)],1)],1),_c('b-row',{staticClass:\"mt-2\"},[(_vm.blogsLoading)?_c('b-col',{staticClass:\"d-flex flex-column align-items-center justify-content-center\"},[_c('b-spinner',{attrs:{\"variant\":\"success\"}})],1):_vm._e(),(!_vm.blogsLoading)?_c('b-col',{staticClass:\"d-flex flex-column align-items-center justify-content-center\"},[(_vm.blogEntries.length == 0)?_c('p',[_vm._v(\"No blog entries found\")]):_vm._e(),(_vm.blogEntries.length != 0)?_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"grid\",\"grid-column-gap\":\"50px\",\"grid-template-columns\":\"auto auto\"}},_vm._l((_vm.blogEntries),function(blog,ind){return _c('b-card',{key:blog._id,staticClass:\"mb-5 blogEntry\",attrs:{\"header-tag\":\"header\",\"footer-tag\":\"footer\",\"id\":'blog' + blog._id.toString(),\"title\":blog.title,\"img-src\":blog.coverImageUrl,\"img-top\":\"\",\"tag\":\"article\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('b-button-group',{staticClass:\"d-flex flex-wrap\"},[(_vm.loggedIn)?_c('b-button',{staticClass:\"mr-2\",staticStyle:{\"max-width\":\"10rem\"},attrs:{\"to\":'/edit-blog/'+blog._id,\"variant\":\"success\"}},[_vm._v(\"Edit\")]):_vm._e(),(_vm.loggedIn)?_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:('deletemodal'+ind),expression:\"'deletemodal'+ind\"}],staticClass:\"mr-2\",staticStyle:{\"max-width\":\"10rem\"},attrs:{\"variant\":\"danger\"}},[(_vm.deleteLoading)?_c('b-spinner',{attrs:{\"variant\":\"warning\",\"small\":\"\"}}):_vm._e(),(!_vm.deleteLoading)?_c('span',[_vm._v(\"Delete\")]):_vm._e()],1):_vm._e(),_c('b-modal',{attrs:{\"id\":'deletemodal'+ind,\"title\":\"Delete\",\"ok-title\":\"Delete\",\"cancel-title\":\"Cancel\",\"ok-variant\":\"danger\",\"cancel-variant\":\"success\"},on:{\"ok\":function($event){return _vm.onDeleteOk(blog._id)}}},[_c('p',{staticClass:\"my-4\"},[_vm._v(\"Are you sure to delete?\")])])],1),_c('b-card-text',[_vm._v(\"Created: \"+_vm._s(new Date(blog.when).toLocaleString(\"en-us\")))]),_c('b-card-text',[_vm._v(\"Keywords:\")]),_c('div',{staticClass:\"d-flex align-items-center flex-wrap\"},_vm._l((blog.keywords),function(keyword){return _c('span',{key:keyword,staticClass:\"keyword\"},[_vm._v(_vm._s(keyword))])}),0)]},proxy:true}],null,true)},[_c('div',{staticStyle:{\"overflow\":\"hidden\",\"max-height\":\"20rem\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(blog.content)}})]),_c('div',{staticClass:\"d-flex align-items-center flex-column justify-content-center\"},[_c('b-button',{staticClass:\"mt-2\",attrs:{\"to\":'/blog/'+blog._id,\"variant\":\"primary\"}},[_vm._v(\"Read more\")])],1)])}),1):_vm._e(),_c('b-pagination-nav',{attrs:{\"number-of-pages\":_vm.numberOfPages,\"use-router\":\"\",\"link-gen\":_vm.linkGen}})],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"blog\">\n    <b-container class=\"blogContainer\">\n      <b-row>\n        <b-col class=\"d-flex justify-content-center\">\n          <b-button-group vertical>\n            <b-button\n              v-if=\"loggedIn\"\n              v-b-modal.blog-modal\n              @click=\"resetData\"\n              variant=\"success\"\n            >New blog</b-button>\n            <b-spinner class=\"mt-2\" variant=\"warning\" v-if=\"newBlogLoading\"></b-spinner>\n            <b-modal\n              size=\"xl\"\n              id=\"blog-modal\"\n              ok-variant=\"success\"\n              cancel-variant=\"danger\"\n              ok-title=\"Submit\"\n              cancel-title=\"Cancel\"\n              title=\"Add new blog!\"\n              @ok=\"handleOk\"\n              no-enforce-focus\n            >\n              <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\n                <b-form-group\n                  :state=\"titleState\"\n                  label=\"Title: \"\n                  label-for=\"name-input\"\n                  invalid-feedback=\"You need to enter a title\"\n                >\n                  <b-form-input id=\"name-input\" v-model=\"title\" :state=\"titleState\" required></b-form-input>\n                </b-form-group>\n                <b-form-group label=\"Content: \" label-for=\"content-input\">\n                  <medium-editor\n                    :text=\"content\"\n                    :options=\"options\"\n                    v-on:edit=\"processEditOperation\"\n                    custom-tag=\"div\"\n                  />\n                </b-form-group>\n                <b-form-group\n                  :state=\"coverImageState\"\n                  label=\"Cover Image: \"\n                  label-for=\"cover-image-input\"\n                  invalid-feedback=\"You need to add a cover image\"\n                >\n                  <b-form-file\n                    id=\"cover-image-input\"\n                    accept=\"image/*\"\n                    browse-text=\"Select\"\n                    placeholder=\"Select or drag an image\"\n                    drop-placeholder=\"You can drop\"\n                    v-model=\"coverImageUrl\"\n                    :state=\"coverImageState\"\n                    required\n                  ></b-form-file>\n                </b-form-group>\n                <b-form-group\n                  label=\"Keywords: \"\n                  label-for=\"keywords-input\"\n                  invalid-feedback=\"Enter keywords comma seperated\"\n                >\n                  <b-form-tags\n                    id=\"keywords-input\"\n                    tag-pills\n                    tag-variant=\"primary\"\n                    remove-on-delete\n                    separator=\",\"\n                    duplicate-tag-text=\"Same keyword exists\"\n                    placeholder=\"Add keywords via pressing enter or comma\"\n                    v-model=\"keywords\"\n                  ></b-form-tags>\n                </b-form-group>\n              </form>\n            </b-modal>\n          </b-button-group>\n        </b-col>\n      </b-row>\n      <b-row class=\"mt-2\">\n        <b-col\n          v-if=\"blogsLoading\"\n          class=\"d-flex flex-column align-items-center justify-content-center\"\n        >\n          <b-spinner variant=\"success\"></b-spinner>\n        </b-col>\n        <b-col\n          v-if=\"!blogsLoading\"\n          class=\"d-flex flex-column align-items-center justify-content-center\"\n        >\n          <p v-if=\"blogEntries.length == 0\">No blog entries found</p>\n          <div\n            style=\"width: 100%;display: grid; grid-column-gap: 50px; grid-template-columns: auto auto\"\n            v-if=\"blogEntries.length != 0\"\n          >\n            <b-card\n              header-tag=\"header\"\n              footer-tag=\"footer\"\n              v-for=\"(blog, ind) in blogEntries\"\n              :id=\"'blog' + blog._id.toString()\"\n              :key=\"blog._id\"\n              :title=\"blog.title\"\n              :img-src=\"blog.coverImageUrl\"\n              img-top\n              tag=\"article\"\n              class=\"mb-5 blogEntry\"\n            >\n              <div style=\"overflow:hidden; max-height: 20rem;\">\n                <span v-html=\"blog.content\"></span>\n              </div>\n              <div class=\"d-flex align-items-center flex-column justify-content-center\">\n                <b-button class=\"mt-2\" :to=\"'/blog/'+blog._id\" variant=\"primary\">Read more</b-button>\n              </div>\n\n              <template v-slot:footer>\n                <b-button-group class=\"d-flex flex-wrap\">\n                  <b-button\n                    style=\"max-width: 10rem\"\n                    v-if=\"loggedIn\"\n                    class=\"mr-2\"\n                    :to=\"'/edit-blog/'+blog._id\"\n                    variant=\"success\"\n                  >Edit</b-button>\n                  <b-button\n                    style=\"max-width: 10rem\"\n                    v-b-modal=\"'deletemodal'+ind\"\n                    v-if=\"loggedIn\"\n                    class=\"mr-2\"\n                    variant=\"danger\"\n                  >\n                    <b-spinner variant=\"warning\" v-if=\"deleteLoading\" small></b-spinner>\n                    <span v-if=\"!deleteLoading\">Delete</span>\n                  </b-button>\n                  <b-modal\n                    :id=\"'deletemodal'+ind\"\n                    title=\"Delete\"\n                    ok-title=\"Delete\"\n                    cancel-title=\"Cancel\"\n                    ok-variant=\"danger\"\n                    cancel-variant=\"success\"\n                    @ok=\"onDeleteOk(blog._id)\"\n                  >\n                    <p class=\"my-4\">Are you sure to delete?</p>\n                  </b-modal>\n                </b-button-group>\n                <!-- <a :href=\"'/blog/'+blog._id + '#disqus_thread'\"></a> -->\n                <b-card-text>Created: {{new Date(blog.when).toLocaleString(\"en-us\")}}</b-card-text>\n                <b-card-text>Keywords:</b-card-text>\n                <div class=\"d-flex align-items-center flex-wrap\">\n                  <span class=\"keyword\" v-for=\"keyword in blog.keywords\" :key=\"keyword\">{{keyword}}</span>\n                </div>\n              </template>\n            </b-card>\n          </div>\n          <b-pagination-nav\n            :number-of-pages=\"numberOfPages\"\n            use-router\n            :link-gen=\"linkGen\"\n          ></b-pagination-nav>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport editor from \"vue2-medium-editor\";\nimport store from \"../store/index\";\nexport default {\n  data: function() {\n    return {\n      keywords: [],\n      options: {\n        placeholder: false,\n        buttonLabels: \"fontawesome\",\n        toolbar: {\n          buttons: [\n            \"h1\",\n            \"h2\",\n            \"h3\",\n            \"anchor\",\n            \"bold\",\n            \"italic\",\n            \"unorderedlist\",\n            \"orderedlist\",\n            \"table\"\n          ]\n        },\n        extensions: {\n          table: new MediumEditorTable()\n        }\n      },\n      content: \"\",\n      title: \"\",\n      coverImageUrl: null,\n      deleteLoading: false,\n      blogsLoading: false,\n      newBlogLoading: false,\n      coverImageBase64: \"\",\n      blogEntries: []\n    };\n  },\n  components: {\n    \"medium-editor\": editor\n  },\n  watch: {\n    $route(to, from) {\n      this.blogEntries = store.state.blogEntries.slice(\n        ((to.query.page ? to.query.page : 1) - 1) * 4,\n        ((to.query.page ? to.query.page : 1) - 1) * 4 + 4\n      );\n    }\n  },\n  computed: {\n    titleState() {\n      return this.title.length > 0;\n    },\n    coverImageState() {\n      return this.coverImageUrl != null;\n    },\n    loggedIn() {\n      return store.state.loggedIn;\n    },\n    numberOfPages(){\n      return Math.ceil(store.state.blogEntries.length / 4) > 0\n        ? Math.ceil(store.state.blogEntries.length / 4)\n        : 1;\n    }\n  },\n  created() {\n    this.blogsLoading = true;\n    store.dispatch(\"fetchBlogs\", this);\n  },\n  methods: {\n    linkGen(pageNum) {\n      return pageNum === 1 ? \"?\" : `?page=${pageNum}`;\n    },\n    toBase64(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = error => reject(error);\n      });\n    },\n    handleOk(e) {\n      e.preventDefault();\n      this.handleSubmit();\n    },\n    checkFormValidity() {\n      const valid = this.$refs.form.checkValidity();\n      return valid;\n    },\n    async handleSubmit() {\n      // Exit when the form isn't valid\n      if (!this.checkFormValidity()) {\n        return;\n      }\n      this.newBlogLoading = true;\n      try {\n        this.coverImageBase64 = await this.toBase64(this.coverImageUrl);\n      } catch (error) {\n        this.$bvToast.toast(\"An error occured: \" + JSON.stringify(error));\n        this.newBlogLoading = false;\n        return;\n      }\n\n      store.dispatch(\"addBlogEntry\", this);\n      // Hide the modal manually\n      this.$nextTick(() => {\n        this.$bvModal.hide(\"blog-modal\");\n      });\n    },\n    processEditOperation(operation) {\n      this.content = operation.api.origElements.innerHTML;\n    },\n    onDeleteOk(_id) {\n      this.onDelete(_id);\n    },\n    onDelete(_id) {\n      this.deleteLoading = true;\n      store.dispatch(\"deleteBlog\", { vm: this, _id: _id });\n    },\n    resetData() {\n      this.content = \"\";\n      this.coverImageUrl = null;\n      this.keywords = [];\n      this.title = \"\";\n    }\n  }\n};\n</script>\n\n<style>\n.blogContainer {\n  padding-top: 1rem;\n}\n#blog {\n  width: 90%;\n}\nimg {\n  width: 100%;\n}\n.blogEntry {\n  box-shadow: 10px 10px 5px grey;\n  max-width: 40rem;\n  width: 100%;\n  border: 2px solid rgb(0, 135, 135);\n  padding: 0.2rem;\n}\n.keyword {\n  background-color: lightblue;\n  color: black;\n  border-radius: 10px;\n  border: 1px solid black;\n  padding: 0.3rem;\n  margin: 0.3rem;\n  width: fit-content;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Blog.vue?vue&type=template&id=a6d60638&\"\nimport script from \"./Blog.vue?vue&type=script&lang=js&\"\nexport * from \"./Blog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Blog.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}