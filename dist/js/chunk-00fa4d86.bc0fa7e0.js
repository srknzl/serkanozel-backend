(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00fa4d86"],{4143:function(t,e,o){},a208:function(t,e,o){"use strict";var r=o("4143"),n=o.n(r);n.a},c9e5:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"portfolio"}},[o("b-container",[o("b-row",[o("b-col",[o("b-button-group",{attrs:{vertical:""}},[t.loggedIn?o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.portfolio-modal",modifiers:{"portfolio-modal":!0}}],attrs:{variant:"success"},on:{click:t.resetData}},[t._v("New Portfolio")]):t._e(),t.newPortfolioLoading?o("b-spinner",{staticClass:"mt-2",attrs:{variant:"warning"}}):t._e(),o("b-modal",{attrs:{size:"xl",id:"portfolio-modal","ok-variant":"success","cancel-variant":"danger","ok-title":"Submit","cancel-title":"Cancel",title:"Add new portfolio!"},on:{ok:t.handleOk}},[o("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[o("b-form-group",{attrs:{state:t.titleState,label:"Title: ","label-for":"name-input","invalid-feedback":"You need to enter a title"}},[o("b-form-input",{attrs:{id:"name-input",state:t.titleState,required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),o("b-form-group",{attrs:{label:"Content: ","label-for":"content-input"}},[o("medium-editor",{attrs:{text:t.content,options:t.options,"custom-tag":"div"},on:{edit:t.processEditOperation}})],1),o("b-form-group",{attrs:{state:t.coverImageState,label:"Cover Image: ","label-for":"cover-image-input","invalid-feedback":"You need to add a cover image"}},[o("b-form-file",{attrs:{id:"cover-image-input",accept:"image/*","browse-text":"Select",placeholder:"Select or drag an image","drop-placeholder":"You can drop",state:t.coverImageState,required:""},model:{value:t.coverImageUrl,callback:function(e){t.coverImageUrl=e},expression:"coverImageUrl"}})],1),o("b-form-group",{attrs:{label:"Keywords: ","label-for":"keywords-input","invalid-feedback":"Enter keywords comma seperated"}},[o("b-form-tags",{attrs:{id:"keywords-input","tag-pills":"","tag-variant":"primary","remove-on-delete":"",separator:",","duplicate-tag-text":"Same keyword exists",placeholder:"Add keywords via pressing enter or comma"},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}})],1)],1)])],1)],1)],1),o("b-row",[t.portfoliosLoading?o("b-col",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[o("b-spinner",{attrs:{variant:"success"}})],1):t._e(),t.portfoliosLoading?t._e():o("b-col",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[0==t.portfolioEntries.length?o("p",[t._v("No portfolio entries found")]):t._e(),0!=t.portfolioEntries.length?o("div",t._l(t.portfolioEntries,(function(e,r){return o("b-card",{key:e._id,staticClass:"mb-2",staticStyle:{"max-width":"40rem",width:"100%"},attrs:{id:"portfolio"+e._id.toString(),title:e.title,"img-src":e.coverImageUrl,"img-top":"",tag:"article"},scopedSlots:t._u([{key:"footer",fn:function(){return[o("b-card-text",[t._v("Keywords:")]),t._l(e.keywords,(function(e){return o("span",{key:e,staticStyle:{"font-style":"italic"}},[t._v(t._s(e)+",")])}))]},proxy:!0}],null,!0)},[o("span",{domProps:{innerHTML:t._s(e.content)}}),o("b-button-group",[o("b-button",{staticClass:"mr-2",attrs:{to:"/portfolio/"+e._id,variant:"primary"}},[t._v("Read more")]),t.loggedIn?o("b-button",{staticClass:"mr-2",attrs:{to:"/edit-portfolio/"+e._id,variant:"success"}},[t._v("Edit")]):t._e(),t.loggedIn?o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"deletemodal"+r,expression:"'deletemodal'+ind"}],staticClass:"mr-2",attrs:{variant:"danger"}},[t.deleteLoading?o("b-spinner",{attrs:{variant:"warning",small:""}}):t._e(),t.deleteLoading?t._e():o("span",[t._v("Sil")])],1):t._e(),o("b-modal",{attrs:{id:"deletemodal"+r,title:"Delete","ok-title":"Delete","cancel-title":"Cancel","ok-variant":"danger","cancel-variant":"success"},on:{ok:function(o){return t.onDeleteOk(e._id)}}},[o("p",{staticClass:"my-4"},[t._v("Are you sure to delete?")])])],1)],1)})),1):t._e()])],1)],1)],1)},n=[],a=(o("d3b7"),o("96cf"),o("1da1")),i=(o("bc3a"),o("4884")),l=o.n(i),s=o("4360"),c={data:function(){return{keywords:[],options:{placeholder:!1,buttonLabels:"fontawesome",toolbar:{buttons:["h1","h2","h3","anchor","bold","italic","unorderedlist","orderedlist","table"]},extensions:{table:new MediumEditorTable}},content:"",title:"",coverImageUrl:null,deleteLoading:!1,portfoliosLoading:!1,newPortfolioLoading:!1,coverImageBase64:""}},components:{"medium-editor":l.a},computed:{titleState:function(){return this.title.length>0},coverImageState:function(){return null!=this.coverImageUrl},loggedIn:function(){return s["a"].state.loggedIn},portfolioEntries:function(){return s["a"].state.portfolioEntries}},created:function(){this.portfoliosLoading=!0,s["a"].dispatch("fetchPortfolios",this)},methods:{toBase64:function(t){return new Promise((function(e,o){var r=new FileReader;r.readAsDataURL(t),r.onload=function(){return e(r.result)},r.onerror=function(t){return o(t)}}))},handleOk:function(t){t.preventDefault(),this.handleSubmit()},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return t},handleSubmit:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.checkFormValidity()){e.next=2;break}return e.abrupt("return");case 2:return t.newPortfolioLoading=!0,e.prev=3,e.next=6,t.toBase64(t.coverImageUrl);case 6:t.coverImageBase64=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e["catch"](3),t.$bvToast.toast("An error occured: "+JSON.stringify(e.t0)),t.newPortfolioLoading=!1,e.abrupt("return");case 14:s["a"].dispatch("addPortfolioEntry",t),t.$nextTick((function(){t.$bvModal.hide("portfolio-modal")}));case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))()},processEditOperation:function(t){this.content=t.api.origElements.innerHTML},onDeleteOk:function(t){this.onDelete(t)},onDelete:function(t){this.deleteLoading=!0,s["a"].dispatch("deletePortfolio",{vm:this,_id:t})},resetData:function(){this.content="",this.coverImageUrl=null,this.keywords=[],this.title=""}}},d=c,u=(o("a208"),o("2877")),m=Object(u["a"])(d,r,n,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-00fa4d86.bc0fa7e0.js.map