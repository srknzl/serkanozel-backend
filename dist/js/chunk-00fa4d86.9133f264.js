(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00fa4d86"],{4143:function(e,t,o){},a208:function(e,t,o){"use strict";var a=o("4143"),r=o.n(a);r.a},c9e5:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"blog"}},[o("b-container",[o("b-row",[o("b-col",[o("b-button-group",{attrs:{vertical:""}},[e.loggedIn?o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.portfolio-modal",modifiers:{"portfolio-modal":!0}}],attrs:{variant:"success"},on:{click:e.resetData}},[e._v("New Portfolio")]):e._e(),e.newPortfolioLoading?o("b-spinner",{staticClass:"mt-2",attrs:{variant:"warning"}}):e._e(),o("b-modal",{attrs:{size:"xl",id:"portfolio-modal","ok-variant":"success","cancel-variant":"danger","ok-title":"Submit","cancel-title":"Cancel",title:"Add new portfolio!"},on:{ok:e.handleOk}},[o("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[o("b-form-group",{attrs:{state:e.titleState,label:"Title: ","label-for":"name-input","invalid-feedback":"You need to enter a title"}},[o("b-form-input",{attrs:{id:"name-input",state:e.titleState,required:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),o("b-form-group",{attrs:{label:"Content: ","label-for":"content-input"}},[o("medium-editor",{attrs:{text:e.content,options:e.options,"custom-tag":"div"},on:{edit:e.processEditOperation}})],1),o("b-form-group",{attrs:{state:e.coverImageState,label:"Cover Image: ","label-for":"cover-image-input","invalid-feedback":"You need to add a cover image"}},[o("b-form-file",{attrs:{id:"cover-image-input",accept:"image/*","browse-text":"Select",placeholder:"Select or drag an image","drop-placeholder":"You can drop",state:e.coverImageState,required:""},model:{value:e.coverImageUrl,callback:function(t){e.coverImageUrl=t},expression:"coverImageUrl"}})],1),o("b-form-group",{attrs:{label:"Keywords: ","label-for":"keywords-input","invalid-feedback":"Enter keywords comma seperated"}},[o("b-form-tags",{attrs:{id:"keywords-input","tag-pills":"","tag-variant":"primary","remove-on-delete":"",separator:",","duplicate-tag-text":"Same keyword exists",placeholder:"Add keywords via pressing enter or comma"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)],1)])],1)],1)],1),o("b-row",[e.portfoliosLoading?o("b-col",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[o("b-spinner",{attrs:{variant:"success"}})],1):e._e(),e.portfoliosLoading?e._e():o("b-col",{staticClass:"d-flex flex-column align-items-center justify-content-center"},e._l(e.portfolioEntries,(function(t,a){return o("b-card",{key:t._id,staticClass:"mb-2",staticStyle:{"max-width":"40rem",width:"100%"},attrs:{id:"portfolio"+t._id.toString(),title:t.title,"img-src":t.coverImageUrl,"img-top":"",tag:"article"},scopedSlots:e._u([{key:"footer",fn:function(){return[o("b-card-text",[e._v("Keywords:")]),e._l(e.blog.keywords,(function(t){return o("span",{key:t,staticStyle:{"font-style":"italic"}},[e._v(e._s(t)+", ")])}))]},proxy:!0}],null,!0)},[o("span",{domProps:{innerHTML:e._s(t.content)}}),o("b-button-group",[o("b-button",{staticClass:"mr-2",attrs:{to:"/portfolio/"+t._id,variant:"primary"}},[e._v("Read more")]),e.loggedIn?o("b-button",{staticClass:"mr-2",attrs:{to:"/edit-portfolio/"+t._id,variant:"success"}},[e._v("Edit")]):e._e(),e.loggedIn?o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"deletemodal"+a,expression:"'deletemodal'+ind"}],staticClass:"mr-2",attrs:{variant:"danger"}},[e.deleteLoading?o("b-spinner",{attrs:{variant:"warning",small:""}}):e._e(),e.deleteLoading?e._e():o("span",[e._v("Sil")])],1):e._e(),o("b-modal",{attrs:{id:"deletemodal"+a,title:"Delete","ok-title":"Delete","cancel-title":"Cancel","ok-variant":"danger","cancel-variant":"success"},on:{ok:function(t){return e.onDeleteOk(e.blog._id)}}},[o("p",{staticClass:"my-4"},[e._v("Are you sure to delete?")])])],1)],1)})),1)],1)],1)],1)},r=[],n=(o("d3b7"),o("96cf"),o("1da1")),i=(o("bc3a"),o("4884")),l=o.n(i),s=o("4360"),c={data:function(){return{keywords:[],options:{placeholder:!1,buttonLabels:"fontawesome",toolbar:{buttons:["h1","h2","h3","anchor","bold","italic","unorderedlist","orderedlist","table"]},extensions:{table:new MediumEditorTable}},content:"",title:"",coverImageUrl:null,deleteLoading:!1,portfoliosLoading:!1,newPortfolioLoading:!1,coverImageBase64:""}},components:{"medium-editor":l.a},computed:{titleState:function(){return this.title.length>0},coverImageState:function(){return null!=this.coverImageUrl},loggedIn:function(){return s["a"].state.loggedIn},portfolioEntries:function(){return s["a"].state.portfolioEntries}},created:function(){this.portfoliosLoading=!0,s["a"].dispatch("fetchPortfolios",this)},methods:{toBase64:function(e){return new Promise((function(t,o){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return o(e)}}))},handleOk:function(e){e.preventDefault(),this.handleSubmit()},checkFormValidity:function(){var e=this.$refs.form.checkValidity();return e},handleSubmit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormValidity()){t.next=2;break}return t.abrupt("return");case 2:return e.newBlogLoading=!0,t.prev=3,t.next=6,e.toBase64(e.coverImageUrl);case 6:e.coverImageBase64=t.sent,t.next=14;break;case 9:return t.prev=9,t.t0=t["catch"](3),e.$bvToast.toast("An error occured: "+JSON.stringify(t.t0)),e.newBlogLoading=!1,t.abrupt("return");case 14:s["a"].dispatch("addBlogEntry",e),e.$nextTick((function(){e.$bvModal.hide("blog-modal")}));case 16:case"end":return t.stop()}}),t,null,[[3,9]])})))()},processEditOperation:function(e){this.content=e.api.origElements.innerHTML},onDeleteOk:function(e){this.onDelete(e)},onDelete:function(e){this.deleteLoading=!0,s["a"].dispatch("deleteBlog",{vm:this,_id:e})},resetData:function(){this.content="",this.coverImageUrl=null,this.keywords=[],this.title=""}}},d=c,u=(o("a208"),o("2877")),m=Object(u["a"])(d,a,r,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-00fa4d86.9133f264.js.map