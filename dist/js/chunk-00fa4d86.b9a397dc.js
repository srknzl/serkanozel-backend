(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00fa4d86"],{4143:function(e,t,a){},a208:function(e,t,a){"use strict";var o=a("4143"),n=a.n(o);n.a},c9e5:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"portfolio"}},[a("b-container",{staticClass:"portfolioContainer"},[a("b-row",[a("b-col",{staticClass:"d-flex justify-content-center"},[a("b-button-group",{attrs:{vertical:""}},[e.loggedIn?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.portfolio-modal",modifiers:{"portfolio-modal":!0}}],attrs:{variant:"success"},on:{click:e.resetData}},[e._v("New Portfolio")]):e._e(),e.newPortfolioLoading?a("b-spinner",{staticClass:"mt-2",attrs:{variant:"warning"}}):e._e(),a("b-modal",{attrs:{size:"xl",id:"portfolio-modal","ok-variant":"success","cancel-variant":"danger","ok-title":"Submit","cancel-title":"Cancel",title:"Add new portfolio!","no-enforce-focus":""},on:{ok:e.handleOk}},[a("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[a("b-form-group",{attrs:{state:e.titleState,label:"Title: ","label-for":"name-input","invalid-feedback":"You need to enter a title"}},[a("b-form-input",{attrs:{id:"name-input",state:e.titleState,required:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),a("b-form-group",{attrs:{label:"Content: ","label-for":"content-input"}},[a("medium-editor",{staticClass:"mediumeditor",attrs:{text:e.content,options:e.options,"custom-tag":"div"},on:{edit:e.processEditOperation}})],1),a("b-form-group",{attrs:{state:e.coverImageState,label:"Cover Image: ","label-for":"cover-image-input","invalid-feedback":"You need to add a cover image"}},[a("b-form-file",{attrs:{id:"cover-image-input",accept:"image/*","browse-text":"Select",placeholder:"Select or drag an image","drop-placeholder":"You can drop",state:e.coverImageState,required:""},model:{value:e.coverImageUrl,callback:function(t){e.coverImageUrl=t},expression:"coverImageUrl"}})],1),a("b-form-group",{attrs:{label:"Keywords: ","label-for":"keywords-input","invalid-feedback":"Enter keywords comma seperated"}},[a("b-form-tags",{attrs:{id:"keywords-input","tag-pills":"","tag-variant":"primary","remove-on-delete":"",separator:",","duplicate-tag-text":"Same keyword exists",placeholder:"Add keywords via pressing enter or comma"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1),a("b-form-group",{attrs:{label:"Date you achieved: ","label-for":"date-input",state:e.dateState,"invalid-feedback":"Please enter a date"}},[a("b-form-datepicker",{attrs:{id:"date-input",locale:"en","value-as-date":"","today-button":"","reset-button":"","close-button":"","selected-variant":"primary",placeholder:"Choose a date"},model:{value:e.when,callback:function(t){e.when=t},expression:"when"}})],1),a("b-form-group",{attrs:{label:"Team size: ","label-for":"teamsize-input",state:e.teamSizeState,"invalid-feedback":"Please enter your teamsize"}},[a("b-form-input",{attrs:{id:"teamsize-input",type:"number",placeholder:"Team Size: "},model:{value:e.teamSize,callback:function(t){e.teamSize=t},expression:"teamSize"}})],1),a("b-form-group",{attrs:{label:"Demo link: ","label-for":"demolink-input","invalid-feedback":"Please enter your demo link"}},[a("b-form-input",{attrs:{id:"demolink-input",placeholder:"Demo link: "},model:{value:e.demoLink,callback:function(t){e.demoLink=t},expression:"demoLink"}})],1)],1)])],1)],1)],1),a("b-row",{staticClass:"mt-2"},[e.portfoliosLoading?a("b-col",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[a("b-spinner",{attrs:{variant:"success"}})],1):e._e(),e.portfoliosLoading?e._e():a("b-col",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[0==e.portfolioEntries.length?a("p",[e._v("No portfolio entries found")]):e._e(),0!=e.portfolioEntries.length?a("div",{staticClass:"gridContainer"},e._l(e.portfolioEntries,(function(t,o){return a("b-card",{key:t._id,staticClass:"mb-5 portfolioEntry",attrs:{"header-tag":"header","footer-tag":"footer",id:"portfolio"+t._id.toString(),title:t.title,"img-src":t.coverImageUrl,"img-top":"",tag:"article"},scopedSlots:e._u([{key:"footer",fn:function(){return[a("b-button-group",{staticClass:"d-flex flex-wrap"},[e.loggedIn?a("b-button",{staticClass:"mr-2",staticStyle:{"max-width":"10rem"},attrs:{to:"/edit-portfolio/"+t._id,variant:"success"}},[e._v("Edit")]):e._e(),e.loggedIn?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"deletemodal"+o,expression:"'deletemodal'+ind"}],staticClass:"mr-2",staticStyle:{"max-width":"10rem"},attrs:{variant:"danger"}},[e.deleteLoading?a("b-spinner",{attrs:{variant:"warning",small:""}}):e._e(),e.deleteLoading?e._e():a("span",[e._v("Delete")])],1):e._e(),a("b-modal",{attrs:{id:"deletemodal"+o,title:"Delete","ok-title":"Delete","cancel-title":"Cancel","ok-variant":"danger","cancel-variant":"success"},on:{ok:function(a){return e.onDeleteOk(t._id)}}},[a("p",{staticClass:"my-4"},[e._v("Are you sure to delete?")])]),a("b-button",{staticClass:"mr-2",staticStyle:{"max-width":"10rem"},attrs:{variant:"success",target:"_blank",href:t.demoLink}},[e._v("Click for demo")])],1),a("b-card-text",[e._v("Team Size: "+e._s(e.teamSize))]),a("b-card-text",[e._v("Created: "+e._s(new Date(t.when).toLocaleString("en-us")))]),a("b-card-text",[e._v("Keywords:")]),a("div",{staticClass:"d-flex align-items-center flex-wrap"},e._l(t.keywords,(function(t){return a("span",{key:t,staticClass:"keyword"},[e._v(e._s(t))])})),0)]},proxy:!0}],null,!0)},[a("div",{staticStyle:{overflow:"hidden","max-height":"20rem"}},[a("span",{domProps:{innerHTML:e._s(t.content)}})]),a("div",{staticClass:"d-flex align-items-center flex-column justify-content-center"},[a("b-button",{staticClass:"mt-2",attrs:{to:"/portfolio/"+t._id,variant:"primary"}},[e._v("Read more")])],1)])})),1):e._e(),a("b-pagination-nav",{attrs:{"number-of-pages":e.numberOfPages,"use-router":"","link-gen":e.linkGen}})],1)],1)],1)],1)},n=[],r=(a("fb6a"),a("d3b7"),a("96cf"),a("1da1")),i=a("4884"),l=a.n(i),s=a("4360"),c={data:function(){return{options:{placeholder:!1,buttonLabels:"fontawesome",toolbar:{buttons:["h1","h2","h3","anchor","bold","italic","unorderedlist","orderedlist","table"]},extensions:{table:new MediumEditorTable}},keywords:[],content:"",title:"",coverImageUrl:null,when:null,teamSize:0,demoLink:"",deleteLoading:!1,portfoliosLoading:!1,newPortfolioLoading:!1,coverImageBase64:"",portfolioEntries:[]}},components:{"medium-editor":l.a},watch:{$route:function(e,t){this.portfolioEntries=s["a"].state.portfolioEntries.slice(4*((e.query.page?e.query.page:1)-1),4*((e.query.page?e.query.page:1)-1)+4)}},computed:{titleState:function(){return this.title.length>0},coverImageState:function(){return null!=this.coverImageUrl},loggedIn:function(){return s["a"].state.loggedIn},dateState:function(){return null!=this.when},teamSizeState:function(){return 0!=this.teamSize},numberOfPages:function(){return Math.ceil(s["a"].state.portfolioEntries.length/4)>0?Math.ceil(s["a"].state.portfolioEntries.length/4):1}},created:function(){this.portfoliosLoading=!0,s["a"].dispatch("fetchPortfolios",this)},methods:{linkGen:function(e){return 1===e?"?":"?page=".concat(e)},toBase64:function(e){return new Promise((function(t,a){var o=new FileReader;o.readAsDataURL(e),o.onload=function(){return t(o.result)},o.onerror=function(e){return a(e)}}))},handleOk:function(e){e.preventDefault(),this.handleSubmit()},checkFormValidity:function(){var e=this.$refs.form.checkValidity();return e},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormValidity()){t.next=2;break}return t.abrupt("return");case 2:return e.newPortfolioLoading=!0,t.prev=3,t.next=6,e.toBase64(e.coverImageUrl);case 6:e.coverImageBase64=t.sent,t.next=14;break;case 9:return t.prev=9,t.t0=t["catch"](3),e.$bvToast.toast("An error occured: "+JSON.stringify(t.t0)),e.newPortfolioLoading=!1,t.abrupt("return");case 14:s["a"].dispatch("addPortfolioEntry",e),e.$nextTick((function(){e.$bvModal.hide("portfolio-modal")}));case 16:case"end":return t.stop()}}),t,null,[[3,9]])})))()},processEditOperation:function(e){this.content=e.api.origElements.innerHTML},onDeleteOk:function(e){this.onDelete(e)},onDelete:function(e){this.deleteLoading=!0,s["a"].dispatch("deletePortfolio",{vm:this,_id:e})},resetData:function(){this.content="",this.coverImageUrl=null,this.keywords=[],this.title="",this.demoLink="",this.teamSize=0,this.when=null}}},d=c,u=(a("a208"),a("2877")),m=Object(u["a"])(d,o,n,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-00fa4d86.b9a397dc.js.map