(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a84aa19"],{"32a8":function(e,t,o){"use strict";o.r(t);var a,r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"editportfolio"}},[o("b-container",[e.error?o("b-row",[o("b-card-text",{staticStyle:{color:"white"}},[e._v("Error fetching portfolio.")])],1):e._e(),e.error?e._e():o("b-row",[e.fetchLoading?o("b-col",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[o("b-spinner",{attrs:{variant:"success"}})],1):e._e(),e.fetchLoading?e._e():o("b-col",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[o("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"40rem",width:"100%"},attrs:{"header-tag":"header","footer-tag":"footer","img-alt":"Image","img-src":e.oldImage,tag:"article"},scopedSlots:e._u([{key:"footer",fn:function(){return[o("b-card-text",[e._v("Created: "+e._s(new Date(e.when).toLocaleString("en-us")))]),o("b-button-group",[o("b-button",{staticClass:"mr-2",attrs:{variant:"success",target:"_blank",href:e.demoLink}},[e._v("Click for demo")]),o("b-button",{staticClass:"mr-2",attrs:{variant:"success"},on:{click:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e.editLoading?o("b-spinner",{attrs:{variant:"danger",small:""}}):e._e(),e.editLoading?e._e():o("span",[e._v("Submit")])],1),o("b-button",{attrs:{to:"/portfolio",variant:"danger"}},[e._v("Back")])],1)]},proxy:!0}],null,!1,3662650466)},[o("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[o("b-form-group",{attrs:{state:e.titleState,label:"Title: ","label-for":"name-input","invalid-feedback":"You need to enter a title"}},[o("b-form-input",{attrs:{id:"name-input",state:e.titleState,required:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),o("b-form-group",{attrs:{label:"Content: ","label-for":"content-input"}},[o("medium-editor",{attrs:{text:e.content,options:e.options,"custom-tag":"div"},on:{edit:e.processEditOperation}})],1),o("b-form-group",{attrs:{state:e.coverImageState,label:"Cover Image:(Leave blank not to change current) ","label-for":"cover-image-input"}},[o("b-form-file",{attrs:{id:"cover-image-input",accept:"image/*","browse-text":"Select",placeholder:"Select or drag an image","drop-placeholder":"You can drop"},model:{value:e.coverImageUrl,callback:function(t){e.coverImageUrl=t},expression:"coverImageUrl"}})],1),o("b-form-group",{attrs:{label:"Date you achieved: ","label-for":"date-input",state:e.dateState,"invalid-feedback":"Please enter a date"}},[o("b-form-datepicker",{attrs:{id:"date-input",locale:"en","value-as-date":"","today-button":"","reset-button":"","close-button":"","selected-variant":"primary",placeholder:"Choose a date"},model:{value:e.when,callback:function(t){e.when=t},expression:"when"}})],1),o("b-form-group",{attrs:{label:"Team size: ","label-for":"teamsize-input",state:e.teamSizeState,"invalid-feedback":"Please enter your teamsize"}},[o("b-form-input",{attrs:{id:"teamsize-input",type:"number",placeholder:"Team Size: "},model:{value:e.teamSize,callback:function(t){e.teamSize=t},expression:"teamSize"}})],1),o("b-form-group",{attrs:{label:"Demo link: ","label-for":"demolink-input","invalid-feedback":"Please enter your demo link"}},[o("b-form-input",{attrs:{id:"demolink-input",placeholder:"Demo link: "},model:{value:e.demoLink,callback:function(t){e.demoLink=t},expression:"demoLink"}})],1),o("b-form-group",{attrs:{label:"Keywords: ","label-for":"keywords-input","invalid-feedback":"Enter keywords comma-seperated "}},[o("b-form-tags",{attrs:{id:"keywords-input","tag-pills":"","tag-variant":"primary","remove-on-delete":"",separator:",","duplicate-tag-text":"Same keyword entered",placeholder:"Add via pressing enter or comma"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)],1)])],1)],1)],1)],1)},n=[],i=(o("4160"),o("d3b7"),o("159b"),o("ade3")),s=(o("96cf"),o("1da1")),l=o("bc3a"),d=o.n(l),c=o("4884"),u=o.n(c),m=o("4360"),f=(a={data:function(){return{options:{buttonLabels:"fontawesome",toolbar:{buttons:["h1","h2","h3","anchor","bold","italic","unorderedlist","orderedlist","table"]},extensions:{table:new MediumEditorTable},placeholder:!1},error:!1,content:"",keywords:[],title:"",coverImageUrl:null,demoLink:"",when:null,teamSize:0,oldImage:"",editLoading:!1,fetchLoading:!1}},components:{"medium-editor":u.a},computed:{titleState:function(){return this.title.length>0},dateState:function(){return null!=this.when},teamSizeState:function(){return 0!=this.teamSize},coverImageState:function(){return null!=this.coverImageUrl}},created:function(){var e=this;this.fetchLoading=!0,d.a.get("/portfolio/portfolioEntries/"+this.$route.params.id).then((function(t){e.title=t.data.portfolioEntry.title,e.content=t.data.portfolioEntry.content,e.oldImage=t.data.portfolioEntry.coverImageUrl,e.keywords=t.data.portfolioEntry.keywords,e.teamSize=t.data.portfolioEntry.teamSize,e.when=new Date(t.data.portfolioEntry.when),e.demoLink=t.data.portfolioEntry.demoLink,e.fetchLoading=!1})).catch((function(t){if(t.response)if(422==t.response.data.error.statusCode&&t.response.data.error.problems.length>0){var o="";t.response.data.error.problems.forEach((function(e){o+=" * "+e.msg})),e.$bvToast.toast(t.response.data.message+":     "+o)}else e.$bvToast.toast(t.response.data.message);else e.$bvToast.toast("An error occured: "+JSON.stringify(t));e.error=!0,e.fetchLoading=!1}))}},Object(i["a"])(a,"components",{"medium-editor":u.a}),Object(i["a"])(a,"methods",{toBase64:function(e){return new Promise((function(t,o){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return o(e)}}))},processEditOperation:function(e){this.content=e.api.origElements.innerHTML},checkFormValidity:function(){var e=this.$refs.form.checkValidity();return e},onSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormValidity()){t.next=2;break}return t.abrupt("return");case 2:if(e.editLoading=!0,null!=e.coverImageUrl){t.next=7;break}d.a.put("/portfolio/editPortfolioEntry/"+e.$route.params.id,{content:e.content,coverImageUrl:e.oldImage,title:e.title,keywords:e.keywords,teamSize:e.teamSize,when:e.when,demoLink:e.demoLink}).then((function(t){m["a"].commit("editPortfolio",{_id:e.$route.params.id,content:e.content,title:e.title,keywords:e.keywords,teamSize:e.teamSize,when:e.when,demoLink:e.demoLink}),e.$bvToast.toast(t.data.message),e.editLoading=!1})).catch((function(t){if(t.response)if(422==t.response.data.error.statusCode&&t.response.data.error.problems.length>0){var o="";t.response.data.error.problems.forEach((function(e){o+=" * "+e.msg})),e.$bvToast.toast(t.response.data.message+":     "+o)}else e.$bvToast.toast(t.response.data.message);else e.$bvToast.toast("An error occured: "+JSON.stringify(t));e.editLoading=!1})),t.next=19;break;case 7:return t.prev=7,t.next=10,e.toBase64(e.coverImageUrl);case 10:o=t.sent,t.next=18;break;case 13:return t.prev=13,t.t0=t["catch"](7),e.$bvToast.toast("An error occured: "+JSON.stringify(t.t0)),e.editLoading=!1,t.abrupt("return");case 18:d.a.put("/portfolio/editPortfolioEntry/"+e.$route.params.id,{content:e.content,coverImageUrl:o,title:e.title,keywords:e.keywords,teamSize:e.teamSize,demoLink:e.demoLink,when:e.when}).then((function(t){m["a"].commit("editPortfolioChangeCover",{_id:e.$route.params.id,content:e.content,title:e.title,coverImageUrl:e.coverImageUrl,keywords:e.keywords,teamSize:e.teamSize,demoLink:e.demoLink,when:e.when}),e.$bvToast.toast(t.data.message),e.oldImage=o,e.editLoading=!1})).catch((function(t){if(t.response)if(422==t.response.data.error.statusCode&&t.response.data.error.problems.length>0){var o="";t.response.data.error.problems.forEach((function(e){o+=" * "+e.msg})),e.$bvToast.toast(t.response.data.message+":     "+o)}else e.$bvToast.toast(t.response.data.message);else e.$bvToast.toast("An error occured: "+JSON.stringify(t));e.editLoading=!1}));case 19:case"end":return t.stop()}}),t,null,[[7,13]])})))()}}),a),p=f,b=(o("98d3"),o("2877")),g=Object(b["a"])(p,r,n,!1,null,null,null);t["default"]=g.exports},"98d3":function(e,t,o){"use strict";var a=o("de6a"),r=o.n(a);r.a},ade3:function(e,t,o){"use strict";function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,"a",(function(){return a}))},de6a:function(e,t,o){}}]);
//# sourceMappingURL=chunk-6a84aa19.711d7a61.js.map